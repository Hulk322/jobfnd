/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, EventEmitter, HostListener, Input, Output } from '@angular/core';
import StickySidebar from 'sticky-sidebar';
import { SidebarService } from '../services/sidebar.service';
import { Subject } from 'rxjs';
var SidebarDirective = /** @class */ (function () {
    function SidebarDirective(element, sidebarConfig) {
        this.element = element;
        this.sidebarConfig = sidebarConfig;
        this.topSpacing = this.sidebarConfig.config.topSpacing;
        this.bottomSpacing = this.sidebarConfig.config.bottomSpacing;
        this.resizeSensor = this.sidebarConfig.config.resizeSensor;
        this.containerSelector = this.sidebarConfig.config.containerSelector;
        this.innerWrapperSelector = this.sidebarConfig.config.innerWrapperSelector;
        this.stickyClass = this.sidebarConfig.config.stickyClass;
        this.minWidth = this.sidebarConfig.config.minWidth;
        this.stickySidebarAffixTop = new EventEmitter();
        this.stickySidebarAffixedTop = new EventEmitter();
        this.stickySidebarAffixBottom = new EventEmitter();
        this.stickySidebarAffixedBottom = new EventEmitter();
        this.stickySidebarAffixContainerBottom = new EventEmitter();
        this.stickySidebarAffixedContainerBottom = new EventEmitter();
        this.stickySidebarAffixUnbottom = new EventEmitter();
        this.stickySidebarAffixedUnbottom = new EventEmitter();
        this.stickySidebarAffixStatic = new EventEmitter();
        this.stickySidebarAffixedStatic = new EventEmitter();
    }
    /**
     * @return {?}
     */
    SidebarDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.stickySidebar = new StickySidebar(this.element.nativeElement, {
            topSpacing: +this.topSpacing,
            bottomSpacing: +this.bottomSpacing,
            containerSelector: this.containerSelector,
            innerWrapperSelector: this.innerWrapperSelector,
            resizeSensor: this.resizeSensor,
            stickyClass: this.stickyClass,
            minWidth: +this.minWidth,
        });
        if (this.updateSticky) {
            this.updateSticky.subscribe((/**
             * @return {?}
             */
            function () {
                _this.stickySidebar.updateSticky();
            }));
        }
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixTop = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixTop.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixedTop = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixedTop.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixBottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixBottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixedBottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixedBottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixContainerBottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixContainerBottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixedContainerBottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixedContainerBottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixUnbottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixUnbottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixedUnbottom = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixedUnbottom.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixStatic = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixStatic.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.onStickySidebarAffixedStatic = /**
     * @return {?}
     */
    function () {
        this.stickySidebarAffixedStatic.emit();
    };
    /**
     * @return {?}
     */
    SidebarDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.stickySidebar) {
            this.stickySidebar.destroy();
        }
    };
    SidebarDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[stickySidebar]',
                },] }
    ];
    /** @nocollapse */
    SidebarDirective.ctorParameters = function () { return [
        { type: ElementRef },
        { type: SidebarService }
    ]; };
    SidebarDirective.propDecorators = {
        topSpacing: [{ type: Input }],
        bottomSpacing: [{ type: Input }],
        resizeSensor: [{ type: Input }],
        containerSelector: [{ type: Input }],
        innerWrapperSelector: [{ type: Input }],
        stickyClass: [{ type: Input }],
        minWidth: [{ type: Input }],
        updateSticky: [{ type: Input }],
        stickySidebarAffixTop: [{ type: Output }],
        stickySidebarAffixedTop: [{ type: Output }],
        stickySidebarAffixBottom: [{ type: Output }],
        stickySidebarAffixedBottom: [{ type: Output }],
        stickySidebarAffixContainerBottom: [{ type: Output }],
        stickySidebarAffixedContainerBottom: [{ type: Output }],
        stickySidebarAffixUnbottom: [{ type: Output }],
        stickySidebarAffixedUnbottom: [{ type: Output }],
        stickySidebarAffixStatic: [{ type: Output }],
        stickySidebarAffixedStatic: [{ type: Output }],
        onStickySidebarAffixTop: [{ type: HostListener, args: ['affix.top.stickySidebar',] }],
        onStickySidebarAffixedTop: [{ type: HostListener, args: ['affixed.top.stickySidebar',] }],
        onStickySidebarAffixBottom: [{ type: HostListener, args: ['affix.bottom.stickySidebar',] }],
        onStickySidebarAffixedBottom: [{ type: HostListener, args: ['affixed.bottom.stickySidebar',] }],
        onStickySidebarAffixContainerBottom: [{ type: HostListener, args: ['affix.container-bottom.stickySidebar',] }],
        onStickySidebarAffixedContainerBottom: [{ type: HostListener, args: ['affixed.container-bottom.stickySidebar',] }],
        onStickySidebarAffixUnbottom: [{ type: HostListener, args: ['affix.unbottom.stickySidebar',] }],
        onStickySidebarAffixedUnbottom: [{ type: HostListener, args: ['affixed.unbottom.stickySidebar',] }],
        onStickySidebarAffixStatic: [{ type: HostListener, args: ['affix.static.stickySidebar',] }],
        onStickySidebarAffixedStatic: [{ type: HostListener, args: ['affixed.static.stickySidebar',] }]
    };
    return SidebarDirective;
}());
export { SidebarDirective };
if (false) {
    /** @type {?} */
    SidebarDirective.prototype.topSpacing;
    /** @type {?} */
    SidebarDirective.prototype.bottomSpacing;
    /** @type {?} */
    SidebarDirective.prototype.resizeSensor;
    /** @type {?} */
    SidebarDirective.prototype.containerSelector;
    /** @type {?} */
    SidebarDirective.prototype.innerWrapperSelector;
    /** @type {?} */
    SidebarDirective.prototype.stickyClass;
    /** @type {?} */
    SidebarDirective.prototype.minWidth;
    /** @type {?} */
    SidebarDirective.prototype.updateSticky;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixTop;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixedTop;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixBottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixedBottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixContainerBottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixedContainerBottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixUnbottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixedUnbottom;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixStatic;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebarAffixedStatic;
    /** @type {?} */
    SidebarDirective.prototype.stickySidebar;
    /**
     * @type {?}
     * @private
     */
    SidebarDirective.prototype.element;
    /**
     * @type {?}
     * @private
     */
    SidebarDirective.prototype.sidebarConfig;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZWJhci5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac21pcC9uZ3gtc3RpY2t5LXNpZGViYXIvIiwic291cmNlcyI6WyJsaWIvZGlyZWN0aXZlcy9zaWRlYmFyLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNsSCxPQUFPLGFBQWEsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNkJBQTZCLENBQUM7QUFDM0QsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUU3QjtJQTBCRSwwQkFDVSxPQUFtQixFQUNuQixhQUE2QjtRQUQ3QixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ25CLGtCQUFhLEdBQWIsYUFBYSxDQUFnQjtRQXhCOUIsZUFBVSxHQUFvQixJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7UUFDbkUsa0JBQWEsR0FBb0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1FBQ3pFLGlCQUFZLEdBQVksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQy9ELHNCQUFpQixHQUFXLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3hFLHlCQUFvQixHQUFXLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDO1FBQzlFLGdCQUFXLEdBQVcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQzVELGFBQVEsR0FBb0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBSTlELDBCQUFxQixHQUFxQixJQUFJLFlBQVks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QzVCOzs7O2dCQVBrQixVQUFVO2dCQUVyQixjQUFjOzs7NkJBT25CLEtBQUs7Z0NBQ0wsS0FBSzsrQkFDTCxLQUFLO29DQUNMLEtBQUs7dUNBQ0wsS0FBSzs4QkFDTCxLQUFLOzJCQUNMLEtBQUs7K0JBRUwsS0FBSzt3Q0FFTCxNQUFNOzBDQUNOLE1BQU07MkNBQ04sTUFBTTs2Q0FDTixNQUFNO29EQUNOLE1BQU07c0RBQ04sTUFBTTs2Q0FDTixNQUFNOytDQUNOLE1BQU07MkNBQ04sTUFBTTs2Q0FDTixNQUFNOzBDQThCTixZQUFZLFNBQUMseUJBQXlCOzRDQUl0QyxZQUFZLFNBQUMsMkJBQTJCOzZDQUl4QyxZQUFZLFNBQUMsNEJBQTRCOytDQUl6QyxZQUFZLFNBQUMsOEJBQThCO3NEQUkzQyxZQUFZLFNBQUMsc0NBQXNDO3dEQUluRCxZQUFZLFNBQUMsd0NBQXdDOytDQUlyRCxZQUFZLFNBQUMsOEJBQThCO2lEQUkzQyxZQUFZLFNBQUMsZ0NBQWdDOzZDQUk3QyxZQUFZLFNBQUMsNEJBQTRCOytDQUl6QyxZQUFZLFNBQUMsOEJBQThCOztJQVU5Qyx1QkFBQztDQUFBLEFBbkdELElBbUdDO1NBaEdZLGdCQUFnQjs7O0lBQzNCLHNDQUE0RTs7SUFDNUUseUNBQWtGOztJQUNsRix3Q0FBd0U7O0lBQ3hFLDZDQUFpRjs7SUFDakYsZ0RBQXVGOztJQUN2Rix1Q0FBcUU7O0lBQ3JFLG9DQUF3RTs7SUFFeEUsd0NBQXdDOztJQUV4QyxpREFBdUU7O0lBQ3ZFLG1EQUF5RTs7SUFDekUsb0RBQTBFOztJQUMxRSxzREFBNEU7O0lBQzVFLDZEQUFtRjs7SUFDbkYsK0RBQXFGOztJQUNyRixzREFBNEU7O0lBQzVFLHdEQUE4RTs7SUFDOUUsb0RBQTBFOztJQUMxRSxzREFBNEU7O0lBQzVFLHlDQUFtQjs7Ozs7SUFHakIsbUNBQTJCOzs7OztJQUMzQix5Q0FBcUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RpcmVjdGl2ZSwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBIb3N0TGlzdGVuZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCBTdGlja3lTaWRlYmFyIGZyb20gJ3N0aWNreS1zaWRlYmFyJztcbmltcG9ydCB7U2lkZWJhclNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL3NpZGViYXIuc2VydmljZSc7XG5pbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbc3RpY2t5U2lkZWJhcl0nLFxufSlcbmV4cG9ydCBjbGFzcyBTaWRlYmFyRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSB0b3BTcGFjaW5nOiBudW1iZXIgfCBzdHJpbmcgPSB0aGlzLnNpZGViYXJDb25maWcuY29uZmlnLnRvcFNwYWNpbmc7XG4gIEBJbnB1dCgpIGJvdHRvbVNwYWNpbmc6IG51bWJlciB8IHN0cmluZyA9IHRoaXMuc2lkZWJhckNvbmZpZy5jb25maWcuYm90dG9tU3BhY2luZztcbiAgQElucHV0KCkgcmVzaXplU2Vuc29yOiBib29sZWFuID0gdGhpcy5zaWRlYmFyQ29uZmlnLmNvbmZpZy5yZXNpemVTZW5zb3I7XG4gIEBJbnB1dCgpIGNvbnRhaW5lclNlbGVjdG9yOiBzdHJpbmcgPSB0aGlzLnNpZGViYXJDb25maWcuY29uZmlnLmNvbnRhaW5lclNlbGVjdG9yO1xuICBASW5wdXQoKSBpbm5lcldyYXBwZXJTZWxlY3Rvcjogc3RyaW5nID0gdGhpcy5zaWRlYmFyQ29uZmlnLmNvbmZpZy5pbm5lcldyYXBwZXJTZWxlY3RvcjtcbiAgQElucHV0KCkgc3RpY2t5Q2xhc3M6IHN0cmluZyA9IHRoaXMuc2lkZWJhckNvbmZpZy5jb25maWcuc3RpY2t5Q2xhc3M7XG4gIEBJbnB1dCgpIG1pbldpZHRoOiBudW1iZXIgfCBzdHJpbmcgPSB0aGlzLnNpZGViYXJDb25maWcuY29uZmlnLm1pbldpZHRoO1xuXG4gIEBJbnB1dCgpIHVwZGF0ZVN0aWNreTogU3ViamVjdDxib29sZWFuPjtcblxuICBAT3V0cHV0KCkgc3RpY2t5U2lkZWJhckFmZml4VG9wOiBFdmVudEVtaXR0ZXI8e30+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgc3RpY2t5U2lkZWJhckFmZml4ZWRUb3A6IEV2ZW50RW1pdHRlcjx7fT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBzdGlja3lTaWRlYmFyQWZmaXhCb3R0b206IEV2ZW50RW1pdHRlcjx7fT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBzdGlja3lTaWRlYmFyQWZmaXhlZEJvdHRvbTogRXZlbnRFbWl0dGVyPHt9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHN0aWNreVNpZGViYXJBZmZpeENvbnRhaW5lckJvdHRvbTogRXZlbnRFbWl0dGVyPHt9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHN0aWNreVNpZGViYXJBZmZpeGVkQ29udGFpbmVyQm90dG9tOiBFdmVudEVtaXR0ZXI8e30+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgc3RpY2t5U2lkZWJhckFmZml4VW5ib3R0b206IEV2ZW50RW1pdHRlcjx7fT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBzdGlja3lTaWRlYmFyQWZmaXhlZFVuYm90dG9tOiBFdmVudEVtaXR0ZXI8e30+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgc3RpY2t5U2lkZWJhckFmZml4U3RhdGljOiBFdmVudEVtaXR0ZXI8e30+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgc3RpY2t5U2lkZWJhckFmZml4ZWRTdGF0aWM6IEV2ZW50RW1pdHRlcjx7fT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIHN0aWNreVNpZGViYXI6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBzaWRlYmFyQ29uZmlnOiBTaWRlYmFyU2VydmljZSxcbiAgKSB7XG4gIH1cblxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc3RpY2t5U2lkZWJhciA9IG5ldyBTdGlja3lTaWRlYmFyKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LFxuICAgICAge1xuICAgICAgICB0b3BTcGFjaW5nOiArdGhpcy50b3BTcGFjaW5nLFxuICAgICAgICBib3R0b21TcGFjaW5nOiArdGhpcy5ib3R0b21TcGFjaW5nLFxuICAgICAgICBjb250YWluZXJTZWxlY3RvcjogdGhpcy5jb250YWluZXJTZWxlY3RvcixcbiAgICAgICAgaW5uZXJXcmFwcGVyU2VsZWN0b3I6IHRoaXMuaW5uZXJXcmFwcGVyU2VsZWN0b3IsXG4gICAgICAgIHJlc2l6ZVNlbnNvcjogdGhpcy5yZXNpemVTZW5zb3IsXG4gICAgICAgIHN0aWNreUNsYXNzOiB0aGlzLnN0aWNreUNsYXNzLFxuICAgICAgICBtaW5XaWR0aDogK3RoaXMubWluV2lkdGgsXG4gICAgICB9LFxuICAgICk7XG4gICAgaWYgKHRoaXMudXBkYXRlU3RpY2t5KSB7XG4gICAgICB0aGlzLnVwZGF0ZVN0aWNreS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICB0aGlzLnN0aWNreVNpZGViYXIudXBkYXRlU3RpY2t5KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2FmZml4LnRvcC5zdGlja3lTaWRlYmFyJykgb25TdGlja3lTaWRlYmFyQWZmaXhUb3AoKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhUb3AuZW1pdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignYWZmaXhlZC50b3Auc3RpY2t5U2lkZWJhcicpIG9uU3RpY2t5U2lkZWJhckFmZml4ZWRUb3AoKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhlZFRvcC5lbWl0KCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdhZmZpeC5ib3R0b20uc3RpY2t5U2lkZWJhcicpIG9uU3RpY2t5U2lkZWJhckFmZml4Qm90dG9tKCkge1xuICAgIHRoaXMuc3RpY2t5U2lkZWJhckFmZml4Qm90dG9tLmVtaXQoKTtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2FmZml4ZWQuYm90dG9tLnN0aWNreVNpZGViYXInKSBvblN0aWNreVNpZGViYXJBZmZpeGVkQm90dG9tKCkge1xuICAgIHRoaXMuc3RpY2t5U2lkZWJhckFmZml4ZWRCb3R0b20uZW1pdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignYWZmaXguY29udGFpbmVyLWJvdHRvbS5zdGlja3lTaWRlYmFyJykgb25TdGlja3lTaWRlYmFyQWZmaXhDb250YWluZXJCb3R0b20oKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhDb250YWluZXJCb3R0b20uZW1pdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignYWZmaXhlZC5jb250YWluZXItYm90dG9tLnN0aWNreVNpZGViYXInKSBvblN0aWNreVNpZGViYXJBZmZpeGVkQ29udGFpbmVyQm90dG9tKCkge1xuICAgIHRoaXMuc3RpY2t5U2lkZWJhckFmZml4ZWRDb250YWluZXJCb3R0b20uZW1pdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignYWZmaXgudW5ib3R0b20uc3RpY2t5U2lkZWJhcicpIG9uU3RpY2t5U2lkZWJhckFmZml4VW5ib3R0b20oKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhVbmJvdHRvbS5lbWl0KCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdhZmZpeGVkLnVuYm90dG9tLnN0aWNreVNpZGViYXInKSBvblN0aWNreVNpZGViYXJBZmZpeGVkVW5ib3R0b20oKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhlZFVuYm90dG9tLmVtaXQoKTtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2FmZml4LnN0YXRpYy5zdGlja3lTaWRlYmFyJykgb25TdGlja3lTaWRlYmFyQWZmaXhTdGF0aWMoKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhTdGF0aWMuZW1pdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignYWZmaXhlZC5zdGF0aWMuc3RpY2t5U2lkZWJhcicpIG9uU3RpY2t5U2lkZWJhckFmZml4ZWRTdGF0aWMoKSB7XG4gICAgdGhpcy5zdGlja3lTaWRlYmFyQWZmaXhlZFN0YXRpYy5lbWl0KCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGlja3lTaWRlYmFyKSB7XG4gICAgICB0aGlzLnN0aWNreVNpZGViYXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG59XG4iXX0=