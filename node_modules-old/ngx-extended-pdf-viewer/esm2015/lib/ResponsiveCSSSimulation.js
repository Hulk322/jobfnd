/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * @return {?}
 */
function rtl() {
    /** @type {?} */
    let element = (/** @type {?} */ (document.getElementsByClassName('toolbar')[0]));
    while (element) {
        if (element.dir !== '') {
            return element.dir === 'rtl';
        }
        if (!element.parentElement) {
            break;
        }
        element = element.parentElement;
    }
    return false;
}
/**
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo535px(width) {
    /** @type {?} */
    const tinyElement = document.getElementById('scaleSelectContainer');
    /** @type {?} */
    const tiny = (/** @type {?} */ (tinyElement));
    if (width < 535) {
        // not perfect, but good first approximation
        tiny.classList.add('hidden');
    }
    else {
        tiny.classList.remove('hidden');
    }
}
/**
 * @param {?} container
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo640px(container, width) {
    /** @type {?} */
    const smallElements = container.getElementsByClassName('hiddenSmallView');
    for (let i = 0; i < smallElements.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (smallElements[i]));
        if (width < 640) {
            elt.classList.add('hidden');
        }
        else {
            elt.classList.remove('hidden');
        }
    }
    /** @type {?} */
    const visibleSmallViewElements = container.getElementsByClassName('visibleSmallView');
    for (let i = 0; i < visibleSmallViewElements.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (visibleSmallViewElements[i]));
        if (width < 640) {
            elt.classList.remove('hidden');
        }
        else {
            elt.classList.add('hidden');
        }
    }
    /** @type {?} */
    const toolbarButtonSpacer = container.getElementsByClassName('toolbarButtonSpacer');
    for (let i = 0; i < toolbarButtonSpacer.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (toolbarButtonSpacer[i]));
        if (width < 640) {
            elt.classList.add('below640px');
        }
        else {
            elt.classList.remove('below640px');
        }
    }
    /** @type {?} */
    const findbar = document.getElementsByClassName('findbar');
    for (let i = 0; i < findbar.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (findbar[i]));
        if (width < 640) {
            elt.classList.add('below640px');
        }
        else {
            elt.classList.remove('below640px');
        }
    }
}
/**
 * @param {?} container
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo700px(container, width) {
    /** @type {?} */
    const mediumElements = container.getElementsByClassName('hiddenMediumView');
    for (let i = 0; i < mediumElements.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (mediumElements[i]));
        if (width < 700) {
            elt.classList.add('hidden');
        }
        else {
            elt.classList.remove('hidden');
        }
    }
    // #103
    /** @type {?} */
    const visibleMediumElements = container.getElementsByClassName('visibleMediumView');
    for (let i = 0; i < visibleMediumElements.length; i++) {
        /** @type {?} */
        const elt = (/** @type {?} */ (visibleMediumElements[i]));
        if (width < 700) {
            elt.classList.remove('hidden');
        }
        else {
            elt.classList.add('hidden');
        }
    }
}
/**
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo900px(width) {
    /** @type {?} */
    const elt = document.getElementById('toolbarViewerMiddle');
    if (elt) {
        if (width < 900) {
            elt.classList.add('toolbarViewerMiddleBelow900px');
        }
        else {
            elt.classList.remove('toolbarViewerMiddleBelow900px');
        }
    }
}
/**
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo840px(width) {
    /** @type {?} */
    const elt = document.getElementsByClassName('zoom')[0];
    if (elt) {
        if (width < 840) {
            elt.classList.add('below840px');
        }
        else {
            elt.classList.remove('below840px');
        }
    }
}
/**
 * @param {?} container
 * @param {?} width
 * @return {?}
 */
export function resizeUpTo770px(container, width) {
    /** @type {?} */
    let elt = document.getElementsByClassName('zoom')[0];
    if (elt) {
        if (width < 770) {
            elt.classList.add('below770px');
        }
        else {
            elt.classList.remove('below770px');
        }
    }
    /** @type {?} */
    const hiddenLargeElements = container.getElementsByClassName('hiddenLargeView');
    for (let i = 0; i < hiddenLargeElements.length; i++) {
        elt = (/** @type {?} */ (hiddenLargeElements[i]));
        if (width < 770) {
            elt.classList.add('hidden');
        }
        else {
            elt.classList.remove('hidden');
        }
    }
    /** @type {?} */
    const visibleLargeElements = container.getElementsByClassName('visibleLargeView');
    for (let i = 0; i < visibleLargeElements.length; i++) {
        elt = (/** @type {?} */ (visibleLargeElements[i]));
        if (width < 770) {
            elt.classList.remove('hidden');
        }
        else {
            elt.classList.add('hidden');
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzcG9uc2l2ZUNTU1NpbXVsYXRpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZXh0ZW5kZWQtcGRmLXZpZXdlci8iLCJzb3VyY2VzIjpbImxpYi9SZXNwb25zaXZlQ1NTU2ltdWxhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsU0FBUyxHQUFHOztRQUNOLE9BQU8sR0FBRyxtQkFBQSxRQUFRLENBQUMsc0JBQXNCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQWU7SUFDMUUsT0FBTyxPQUFPLEVBQUU7UUFDZCxJQUFJLE9BQU8sQ0FBQyxHQUFHLEtBQUssRUFBRSxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUM7U0FDOUI7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRTtZQUMxQixNQUFNO1NBQ1A7UUFDRCxPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztLQUNqQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQzs7Ozs7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUFDLEtBQWE7O1VBQ3JDLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDOztVQUM3RCxJQUFJLEdBQUcsbUJBQUEsV0FBVyxFQUFlO0lBQ3ZDLElBQUksS0FBSyxHQUFHLEdBQUcsRUFBRTtRQUNmLDRDQUE0QztRQUM1QyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUM5QjtTQUFNO1FBQ0wsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDOzs7Ozs7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUFDLFNBQXNCLEVBQUUsS0FBYTs7VUFDN0QsYUFBYSxHQUFHLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQztJQUN6RSxLQUFLLElBQUksQ0FBQyxHQUFHLENB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R0FBRyxFQUFFO1lBQ2YsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDakM7YUFBTTtZQUNMLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3BDO0tBQ0Y7O1VBQ0ssbUJBQW1CLEdBQUcsU0FBUyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixDQUFDO0lBQy9FLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDbkQsR0FBRyxHQUFHLG1CQUFBLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxFQUFlLENBQUM7UUFDNUMsSUFBSSxLQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ2YsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDN0I7YUFBTTtZQUNMLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ2hDO0tBQ0Y7O1VBRUssb0JBQW9CLEdBQUcsU0FBUyxDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDO0lBQ2pGLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEQsR0FBRyxHQUFHLG1CQUFBLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxFQUFlLENBQUM7UUFDN0MsSUFBSSxLQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ2YsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDaEM7YUFBTTtZQUNMLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzdCO0tBQ0Y7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcnRsKCk6IGJvb2xlYW4ge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rvb2xiYXInKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5kaXIgIT09ICcnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5kaXIgPT09ICdydGwnO1xuICAgIH1cbiAgICBpZiAoIWVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplVXBUbzUzNXB4KHdpZHRoOiBudW1iZXIpIHtcbiAgY29uc3QgdGlueUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NhbGVTZWxlY3RDb250YWluZXInKTtcbiAgY29uc3QgdGlueSA9IHRpbnlFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICBpZiAod2lkdGggPCA1MzUpIHtcbiAgICAvLyBub3QgcGVyZmVjdCwgYnV0IGdvb2QgZmlyc3QgYXBwcm94aW1hdGlvblxuICAgIHRpbnkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH0gZWxzZSB7XG4gICAgdGlueS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplVXBUbzY0MHB4KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHdpZHRoOiBudW1iZXIpIHtcbiAgY29uc3Qgc21hbGxFbGVtZW50cyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWRkZW5TbWFsbFZpZXcnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbWFsbEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWx0ID0gc21hbGxFbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAod2lkdGggPCA2NDApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuICBjb25zdCB2aXNpYmxlU21hbGxWaWV3RWxlbWVudHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmlzaWJsZVNtYWxsVmlldycpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZpc2libGVTbWFsbFZpZXdFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsdCA9IHZpc2libGVTbWFsbFZpZXdFbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAod2lkdGggPCA2NDApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuICBjb25zdCB0b29sYmFyQnV0dG9uU3BhY2VyID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rvb2xiYXJCdXR0b25TcGFjZXInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29sYmFyQnV0dG9uU3BhY2VyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWx0ID0gdG9vbGJhckJ1dHRvblNwYWNlcltpXSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAod2lkdGggPCA2NDApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QuYWRkKCdiZWxvdzY0MHB4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdiZWxvdzY0MHB4Jyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGZpbmRiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmaW5kYmFyJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZmluZGJhci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsdCA9IGZpbmRiYXJbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHdpZHRoIDwgNjQwKSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LmFkZCgnYmVsb3c2NDBweCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LnJlbW92ZSgnYmVsb3c2NDBweCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplVXBUbzcwMHB4KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHdpZHRoOiBudW1iZXIpIHtcbiAgY29uc3QgbWVkaXVtRWxlbWVudHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlkZGVuTWVkaXVtVmlldycpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1lZGl1bUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZWx0ID0gbWVkaXVtRWxlbWVudHNbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHdpZHRoIDwgNzAwKSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cbiAgLy8gIzEwM1xuICBjb25zdCB2aXNpYmxlTWVkaXVtRWxlbWVudHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmlzaWJsZU1lZGl1bVZpZXcnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2aXNpYmxlTWVkaXVtRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbHQgPSB2aXNpYmxlTWVkaXVtRWxlbWVudHNbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHdpZHRoIDwgNzAwKSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZVVwVG85MDBweCh3aWR0aDogbnVtYmVyKTogdm9pZCB7XG4gIGNvbnN0IGVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sYmFyVmlld2VyTWlkZGxlJyk7XG4gIGlmIChlbHQpIHtcbiAgICBpZiAod2lkdGggPCA5MDApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QuYWRkKCd0b29sYmFyVmlld2VyTWlkZGxlQmVsb3c5MDBweCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LnJlbW92ZSgndG9vbGJhclZpZXdlck1pZGRsZUJlbG93OTAwcHgnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZVVwVG84NDBweCh3aWR0aDogbnVtYmVyKSB7XG4gIGNvbnN0IGVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3pvb20nKVswXTtcbiAgaWYgKGVsdCkge1xuICAgIGlmICh3aWR0aCA8IDg0MCkge1xuICAgICAgZWx0LmNsYXNzTGlzdC5hZGQoJ2JlbG93ODQwcHgnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LmNsYXNzTGlzdC5yZW1vdmUoJ2JlbG93ODQwcHgnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZVVwVG83NzBweChjb250YWluZXI6IEhUTUxFbGVtZW50LCB3aWR0aDogbnVtYmVyKSB7XG4gIGxldCBlbHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd6b29tJylbMF07XG4gIGlmIChlbHQpIHtcbiAgICBpZiAod2lkdGggPCA3NzApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QuYWRkKCdiZWxvdzc3MHB4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdiZWxvdzc3MHB4Jyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGhpZGRlbkxhcmdlRWxlbWVudHMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlkZGVuTGFyZ2VWaWV3Jyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaGlkZGVuTGFyZ2VFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGVsdCA9IGhpZGRlbkxhcmdlRWxlbWVudHNbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHdpZHRoIDwgNzcwKSB7XG4gICAgICBlbHQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB2aXNpYmxlTGFyZ2VFbGVtZW50cyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2aXNpYmxlTGFyZ2VWaWV3Jyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmlzaWJsZUxhcmdlRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBlbHQgPSB2aXNpYmxlTGFyZ2VFbGVtZW50c1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAod2lkdGggPCA3NzApIHtcbiAgICAgIGVsdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxufVxuIl19