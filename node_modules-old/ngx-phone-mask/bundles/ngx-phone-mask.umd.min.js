!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/platform-browser"),require("text-mask-core/dist/textMaskCore"),require("@angular/core"),require("angular2-text-mask")):"function"==typeof define&&define.amd?define("ngx-phone-mask",["exports","@angular/forms","@angular/platform-browser","text-mask-core/dist/textMaskCore","@angular/core","angular2-text-mask"],e):e(t["ngx-phone-mask"]={},t.ng.forms,t.ng.platformBrowser,t.textMaskCore,t.ng.core,t.angular2TextMask)}(this,function(t,e,i,n,o,s){"use strict";var r=function(t){return t.toString().replace(/[^\d\^\+]/gm,"")},a=function(e){return void 0===e&&(e=13),function(t){return r(t).length<=12||12===e?["+",/[1-9]/," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/]:["+",/[1-9]/," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/]}},u=function l(){};var p=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.clean=!0,this.maxNumberLength=13,this._composing=!1,this.onChange=function(t){},this.onTouched=function(){},null==this._compositionMode&&(this._compositionMode=!function o(){var t=i.ɵgetDOM()?i.ɵgetDOM().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}return t.prototype.ngOnInit=function(){this._setupMask(!0),this.textMaskInputElement!==undefined&&this.textMaskInputElement.update(this.inputElement.value)},t.prototype.ngOnChanges=function(t){this._setupMask(!0),this.textMaskInputElement!==undefined&&this.textMaskInputElement.update(this.inputElement.value)},t.prototype.onBlur=function(){this.onTouched()},t.prototype.writeValue=function(t){this._setupMask();var e=null==t?"":t;this._renderer.setProperty(this.inputElement,"value",e),this.textMaskInputElement!==undefined&&this.textMaskInputElement.update(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),this.textMaskInputElement!==undefined&&(this.textMaskInputElement.update(t),t=this.inputElement.value,this.clean?this.onChange(r(t)):this.onChange(t)))},t.prototype._setupMask=function(t){void 0===t&&(t=!1),this.textMaskConfig={mask:a(this.maxNumberLength),guide:!1,placeholderChar:"_",pipe:undefined,keepCharPositions:!1},this.inputElement||("INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this.inputElement=this._elementRef.nativeElement:this.inputElement=this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&t&&(this.textMaskInputElement=n.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this._handleInput(t)},t.decorators=[{type:o.Directive,args:[{host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},selector:"[ngxPhoneMask]",exportAs:"ngxPhoneMask",providers:[{provide:e.NG_VALUE_ACCESSOR,useExisting:o.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef},{type:Boolean,decorators:[{type:o.Optional},{type:o.Inject,args:[e.COMPOSITION_BUFFER_MODE]}]}]},t.propDecorators={clean:[{type:o.Input}],maxNumberLength:[{type:o.Input}],onBlur:[{type:o.HostListener,args:["blur"]}]},t}(),d=function(){function t(){}return t.prototype.transform=function(t){return t?s.conformToMask(t,a(),{guide:!1}).conformedValue:""},t.decorators=[{type:o.Pipe,args:[{name:"ngxPhoneMask"}]}],t}(),h=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{imports:[s.TextMaskModule],declarations:[p,d],exports:[p,d]}]}],t}();t.TextMaskConfig=u,t.NgxPhoneMaskDirective=p,t.NgxPhoneMaskModule=h,t.ɵa=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-phone-mask.umd.min.js.map